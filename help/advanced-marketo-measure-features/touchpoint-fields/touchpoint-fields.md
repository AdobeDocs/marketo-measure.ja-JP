---
unique-page-id: 37355835
description: タッチポイントフィールド - [!DNL Marketo Measure]
title: Touchpoint フィールド
exl-id: d6c2bd60-5341-4a52-939a-942afc093306
feature: Touchpoints
source-git-commit: 1a274c83814f4d729053bb36548ee544b973dff5
workflow-type: tm+mt
source-wordcount: '1970'
ht-degree: 0%

---

# Touchpoint フィールド {#touchpoint-fields}

従来、お客様が [!DNL Marketo Measure] を使用してオンボーディングする際に、直接タグ付けの統合がない場合は、カスタマーサクセスチームが、正しい UTM 形式を利用して広告を解決できるように、ランディングページを適切にタグ付けする方法を顧客に説明します。 これらの顧客の一部は、UTM ではなく独自のタグ付けパラメーターを使用します。つまり、強化される新しいタグ付け構造を使用して、すべての広告ネットワークにわたるすべてのランディングページを編集するには非常に時間がかかる可能性が [!DNL Marketo Measure] ります。 タグ付け構造に適応するために、ルール定義にマッピングできるカスタムパラメーターを受け入れるようになりました。 目標は、顧客によるカスタムトラッキングパラメーターの使用に合わせて、URL 構造を変更する必要がないようにすることです。

>[!AVAILABILITY]
>
>階層 2 と階層 3 の完全なセグメント化で現在利用可能。

>[!NOTE]
>
>これは高度な機能であり、Professional Services でのみ設定する必要があります。

## 機能の有効化 {#enabling-the-feature}

[!DNL Marketo Measure] 設定メニューから、タッチポイントフィールド ページに移動します。 ここから、「計算フィールドを有効にする **の下の** はい **を選択して、この機能を有効にすることができ** す。 この機能を有効にすると、タッチポイントフィールドを作成できるようになります。

![](assets/one.png)

## 方法 {#how-to}

計算フィールドを作成するには、ユーザーが実行できるアクションとして、抽出、マッピング、連結の 3 つがあることに注意してください。 これらは、計算フィールドを定義するための演算子とも呼ばれます。

抜粋

[!UICONTROL  抽出 ] 演算子は、キャンペーンフィールド、リードフィールド、より高度なユースケースでは [ ランディングページからカスタムパラメーターを抽出 ](https://docs.google.com/document/d/1NRViyCsXvPKbCTfGW32Yi2vWBjMDRF7bzkzKj9s2DDA/edit?ts=5e20b482#heading=h.xxwtissvw4){target="_blank"} など、別の場所からフィールドから値を取り出します。 次に、タッチポイントフィールドに配置します（[ 例へのマップ ](https://docs.google.com/document/d/1NRViyCsXvPKbCTfGW32Yi2vWBjMDRF7bzkzKj9s2DDA/edit?ts=5e20b482#heading=h.xxwtissvw4){target="_blank"} #2 を参照）。

**例#1**

連絡先 campaign_source__c には、レポート目的で顧客がタッチポイントにドロップしたいカスタムフィールドがあります。 「Campaign Source」という計算フィールドを作成し、そのフィールドに値をドロップするルールを定義できます。

目標：カスタムフィールドの値を使用してタッチポイントオブジェクトに配置し、レポートを容易にします。

* 計算フィールドを作成し、「キャンペーンSource」というラベルを付けます
* Contact.Campaign_Source__c フィールドを検索することから始めて、ルールを定義します
* パラメーターから値を取り出す必要があるので、「extractes」演算子を使用します
* フィールドから文字列全体を抽出するには、式「（.&#42;）」を使用します

   * **（** は抽出の開始を示します
   * **）** 抽出の終了を示します。
   * **.文字列全体を抽出していることを&#42;** します

![](assets/two.png)

**例#2**

この機能を使用できる一般的なユースケースは、URL 文字列のカスタムパラメーターから値を取り出すことです。 これは、UTM 以外のパラメーターを使用していて、タッチポイントフィールドの値を解析する場合に便利です。

**リンク：** `https://www.adobe.com/blog/marketing-revenue-reporting-overview?promo=5OFF` または `https://www.adobe.com/blog/marketing-revenue-reporting-overview?promo=25OFF`。\
**目標：** 「割引コード」と呼ばれるカスタムフィールドを作成し、値が渡された場合は「5OFF」または「25OFF」の値をドロップします。

* 計算フィールドを作成し、「割引コード」というラベルを付けます
* タッチポイント。セッション。ランディングページ フィールドの検索から開始して、ルールを定義します
* パラメーターから値を取り出す必要があるので、「extractes」演算子を使用します
* プロモの値を抽出するには、値を「promo=（\w+）」と定義します。

   * **（** は抽出の開始を示します
   * **）** 抽出の終了を示します。
   * **\w** は、0～9 を含む「単語」を抽出していることを示しています。
   * **+** は、文字制限なしでパラメーターの完全な値を抽出します
   * バックスラッシュではなくスラッシュを使用していることに注意してください

![](assets/three.png)

**例#3**

同様の例で、`https://www.adobe.com/blog/marketing-revenue-reporting-overview?cid=123456` のようなトラッキングコードを抽出する場合を見てみましょう。

**目標：** 計算フィールドを作成し、「Adobe Campaign Id」に cid パラメーターの値のラベルを付けます。

* 計算フィールドを作成し、「Adobe Campaign Id」というラベルを付けます
* タッチポイント。セッション。ランディングページ フィールドの検索から開始して、ルールを定義します
* パラメーターから値を取り出す必要があるので、「extractes」演算子を使用します
* 「123456」値を抽出するには、値を「cid=（\d{6}）」として定義します

   * **（** は抽出の開始を示します
   * **）** 抽出の終了を示します。
   * **\d** は、「数字」を抽出していることを示しています。
   * **{6}** は抽出する文字数です

![](assets/four.png)

**例#4**

ランディングページが複雑になり、複数のトラッキングパラメーターがある場合は、次のように、複数のタッチポイントフィールドを作成して値を複数回抽出する必要が生じる場合があります。
`https://www.adobe.com/blog/marketing-revenue-reporting-overview?trackID=123456&country=US&campaign_ID=7890`。

**目標：** 「ターゲット国」および「カスタムキャンペーン ID」の複数の計算フィールドを、パラメーターからそれぞれの値で作成します。

* 計算フィールドを作成し、「ターゲット国」というラベルを付けます
* タッチポイント。セッション。ランディングページ フィールドの検索から開始して、ルールを定義します
* パラメーターから値を取り出す必要があるので、「extractes」演算子を使用します
* 「US」値を抽出するには、値を「country=（\w{2}）」と定義します

   * **（** は抽出の開始を示します
   * **）** 抽出の終了を示します。
   * **\w** は、「単語」を抽出していることを示しています
   * **{2}** は、抽出する文字数です

* 計算フィールドを作成し、「カスタムキャンペーン Id」というラベルを付けます
* タッチポイント。セッション。ランディングページ フィールドの検索から開始して、ルールを定義します
* パラメーターから値を取り出す必要があるので、「extractes」演算子を使用します
* 「123456」値を抽出するには、値を「campaign_ID=（\d{6}）」として定義します

   * **（** は抽出の開始を示します
   * **）** 抽出の終了を示します。
   * **\d** は、「数字」を抽出していることを示しています。
   * **{6}** は抽出する文字数です

![](assets/five.png)

**マッピング先**

[!UICONTROL  マップ先 ] 演算子は、別の値に変換またはバケット化する必要がある値のテーブルを作成します。 通常、これはキー値の形式でコードがわかりやすい名前を表し、そのわかりやすい名前にマッピングする必要があります。

**例#1**

複数のチャネルにわたって実行される「夏の終わりのプロモーション」および「ブラックフライデーのプロモーション」用に作成したキャンペーンがあります。 「イニシアチブ」という計算フィールドを作成し、「夏のプロモーションの終了」または「ブラックフライデーのプロモーション」を持つタッチポイントを、他の可能な値に加えて、「プロモーション」などのイニシアチブ値にマッピングします。

![](assets/six.png)

**例#2**

フィールドを抽出してマッピングする方法を説明したので、これらのアクションを組み合わせて、最初にパラメーターから値を抽出し、もう少し意味のあるわかりやすい名前にマッピングします。 それでは、このランディングページ `https://www.adobe.com/blog/marketing-revenue-reporting-overview?BZ=04-01-09-03-10` から始めましょう。

**目標：** 複数の計算フィールドを作成します。最初の数値が地域にマッピングされ、2 番目が製品にマッピングされ、3 番目がイニシアチブにマッピングされ、4 番目がペルソナにマッピングされ、5 番目がメディアプラットフォームにマッピングされます。 次に、数値を「わかりやすい名前」にマッピングします。

* 計算フィールドを作成し、「地域」というラベルを付けます
* タッチポイント。セッション。ランディングページ フィールドの検索から開始して、ルールを定義します
* パラメーターから値を取り出す必要があるので、「[!UICONTROL extractes]」演算子を使用します
* 「04」の値を抽出するには、値を「BZ=（\d{2}） – \d{2}-\d{2}-\d{2}-\d{2}」として定義します

   * **（** は抽出の開始を示します

      * 4 のみを抽出するので、最初の数字にのみ左括弧が付いています
   * **）** 抽出の終了を示します。

      * 4 のみを抽出しているので、最初の数字にのみ閉じ丸括弧が付いていることに注意してください
   * **\d** は、「数字」を抽出していることを示しています。
   * **{2}** は、抽出する文字数です



* 「[!UICONTROL 保存]」をクリックします。次のルールで使用する前に、新しいフィールドを保存する必要があります。
* 次に、最初の数字で使用可能なすべての値をわかりやすい名前にマッピングします
* 計算フィールドを作成し、「Region_Name」というラベルを付けます
* 抽出したフィールドの検索から開始して、ルールを定義します。 この場合、[!DNL Touchpoint.Region]
* 各数値とその値へのマッピングを作成する必要があるので、「[!UICONTROL  マップ先 ]」演算子を使用します
* 各マッピングをリストするテーブルが表示されます。 最終的には、次のようになります。
* 上記のマッピングと URL に基づいて、このランディングページを含むタッチポイントの「Region_Value」は「EMEA」になります
* 残りの 4 組の数字に対して、抽出とマッピングを繰り返します

   * 01 を抽出するには、値を「BZ=\d{2}-**（\d{2}）**-\d{2}-\d{2}-\d{2}-\d{2}」と定義します
   * 09 を抽出するには、値を「BZ=\d{2}-\d{2}-**（\d{2}）**-\d{2}-\d{2}」として定義します
   * 03 を抽出するには、値を「BZ=\d{2}-\d{2}-\d{2}-**（\d{2}）**-\d{2}」として定義します。
   * 10 を抽出するには、値を「BZ=\d{2}-\d{2}-\d{2}-\d{2}-**（\d{2}）**」として定義します。

![](assets/seven.png)

**連結**

[!UICONTROL  連結 ] 演算子は、複数のフィールドの値を単一のフィールドに結合します。 これは、を行うために様々なフィールドをまたいでデータを取り込むカスタム値を作成する場合に役立ちます。

**例#1**

Segment__c と Grade__c の商談オブジェクトには、レポート目的でユーザーがタッチポイントオブジェクトの 1 つのフィールドに結合する個別のフィールドがあります。 フィールドを連結すると、「Enterprise_A」や「Mid-Market_B」などの値が表示されます。

![](assets/eight.png)

## タッチポイントフィールドおよびセグメント {#touchpoint-fields-and-segments}

URL の値が解析され、タッチポイントに存在するようになったので、セグメントの作成やタッチポイント削除ルールの定義など、タッチポイントフィールドが使用されるすべての場所に新しいフィールドが表示されます。

タッチポイントフィールドを使用してセグメントを作成する機能は、この製品リリースで利用可能になりました。 タッチポイントフィールドを使用してセグメントを作成することができませんでした。

![](assets/nine.png)

セグメントの作成を容易にするために、作成したタッチポイントフィールドから動的セグメントを作成できるようになりました。 例えば、可能な地域ごとにセグメントを作成するのではなく、地理的地域を解析したタッチポイントフィールドを作成した場合は、1 つのセグメントを設定できます。新しい値が表示されるインスタンスごとにセグメントを作成します。 郵便番号などの属性を解析してセグメントとして使用する必要がある場合に非常に役立ちます。

設定は、次のスクリーンショットのようになります。 セグメント名は、中括弧を使用してタッチポイントフィールド値を動的に取り込み、フィールドを検索します。

![](assets/ten.png)

ルールが同じタッチポイントフィールドを参照し、「null に等しくない」値を検索します。

![](assets/eleven.png)

## よくある質問 {#faq}

**作成できるタッチポイントフィールドには最大数がありますか？**

フィールドの数は 100 個までに制限されています。

**選択リストに作成したばかりの新しいタッチポイントフィールドが表示されません。 どこだ？**

ルールを作成したら、必ずルールを保存してください。 新しいフィールドが表示されない場合は、を保存したかどうかを確認します。 次のルールで使用する前に、新しいフィールドを保存する必要があります。

>[!NOTE]
>
>複雑さのレベルにより、「マップ先」演算子を使用するタッチポイントフィールドを別のタッチポイントフィールドで使用することはできません。

**1 つのランディングページから複数のパラメーターを抽出するには、どのような式を使用しますか？**

Extract Example #4 と同様に、複数のフィールドを作成して各パラメータを抽出する必要があります。 5 つの異なる値がある場合は、5 つのタッチポイントフィールドを作成して、それぞれを抽出します。

**[!DNL Marketo Measure] スキーマに新しいフィールドが表示されないのはなぜですか。**

[!DNL Marketo Measure] Data Warehouseスキーマで新しいフィールドを公開するには、さらに作業が必要です。 現時点では、設定と構成を通じてフィールドを公開しているので、セグメントの作成やタッチポイント削除ルールの作成にタッチポイントフィールドを使用できます。

**抽出式が有効で、正しい値を取っていることを検証するにはどうすればよいですか？**

式を実行してテストできるオンラインツール（[[!DNL https]://regex101.com/](https://regex101.com/){target="_blank"}）があります。 式が有効な場合は緑、無効な場合は赤で表示されます。 また、右上の [!UICONTROL  説明 ] ボックスが役に立ち、抽出するものを確認できます。

![](assets/twelve.png)

![](assets/thirteen.png)
